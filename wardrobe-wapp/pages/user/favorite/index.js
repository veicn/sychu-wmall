"use strict";var app=getApp();Page({data:{lastPage:0,currentPage:1,goods:null},toDetailsTap:function(t){var a=t.currentTarget.dataset.id;app.redirect("/pages/goods/details/index?id="+a,"navigateTo")},onReachBottom:function(){if(this.data.currentPage>=this.data.lastPage)return app.showToast("已经最后一页","none");this.getGoodsList(++this.data.currentPage)},onLoad:function(){this.getGoodsList(1)},getGoodsList:function(t){var a=this;t=t||1,app.wxRequest("/user/userCollections",{page:t},function(t){1==t.code?a.setData({lastPage:t.data.lastPage,currentPage:t.data.currentPage,goods:t.data.list}):a.setData({goods:null})})}});