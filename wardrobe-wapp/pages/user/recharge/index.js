"use strict";var app=getApp();Page({data:{balance:"",dictId:"",rechargeList:[]},onShareAppMessage:null,setSelected:function(t){this.data.rechargeList.forEach(function(t){t.selected=!1}),t>=0&&(this.data.rechargeList[t].selected=!0),this.setData({rechargeList:this.data.rechargeList})},getUserRechargeList:function(){var t=this;app.wxRequest("/dict/getDicts",{dictName:"RECHARGE_TYPE"},function(e){var a=e.data;1==e.code?(a.dicts[0].selected=!0,t.setData({rechargeList:a.dicts,dictId:a.dicts[0].dictId,balance:a.dicts[0].dictValue})):app.showToast("获取充值字典失败","none")},function(){app.showToast("获取充值字典错误","none")})},onShow:function(){this.getUserRechargeList()},bindRechargeTap:function(t){var e=t.currentTarget.dataset;console.log(e),this.setSelected(e.index),this.setData({balance:e.balance,dictId:e.id})},bindBalanceBlur:function(t){this.setSelected(-1),this.setData({balance:t.detail.value,dictId:""})},bindSave:function(){var t=this.data.balance;if(""==t||1*t<0)return void wx.showModal({title:"错误",content:"请填写正确的充值金额",showCancel:!1})}});